<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>后台管理</title>
  <!-- 引入样式 -->
  <link rel="stylesheet" href="js/element-2.4.11/theme-chalk/index.css">
  <link rel="stylesheet" href="css/fontawesome5.6.3/css/all.css">
  <link rel="stylesheet" href="css/index.css">
  <style type="text/css">
  	.el-submenu__title i {
  		color: #ffffff !important;
  	}
  </style>
</head>
<body>
  <div id="app">
  
  	<div v-show="!preloading" class="el-loading-mask" style="background-color: rgba(255,255,255,1);">
	   <div class="el-loading-spinner">
	    <i class="fa fa-spinner fa-pulse"></i>
 	    <p class="el-loading-text">Loading...</p>
	   </div>
    </div>
    
	<el-container v-show="preloading">
	    <el-header>
	      <el-row>
	        <el-col :span="24" class="header">
	          <el-col :span="4" class="logo" style="width: 210px;">
	            {{sysName}}
	          </el-col>
	          <el-col :span="16">
	            <el-menu background-color="#20a0ff" text-color="#fff" active-text-color="#ffd04b" class="el-menu-demo" mode="horizontal" @select="handleSelect">
	              
	              <template v-for="item in menus">
	              		<el-menu-item v-if="!item.children" :index="item.sMenu_ID" >{{item.sMenu_Name}}</el-menu-item>
	              		<el-submenu v-if="item.children" :index="item.sMenu_ID">
	              		 	<template slot="title">{{item.sMenu_Name}}</template>
	              		 	<template v-for="item2 in item.children">
	              		 		<el-menu-item v-if="!item2.children" :index="item2.sMenu_ID" >{{item2.sMenu_Name}}</el-menu-item>
	              		 		<el-submenu v-if="item2.children" :index="item2.sMenu_ID">
			              		 	<template slot="title">{{item2.sMenu_Name}}</template>
			              		 	<template v-for="item3 in item2.children">
			              		 		<el-menu-item :index="item3.sMenu_ID" >{{item3.sMenu_Name}}</el-menu-item>
			              		 	</template>
						    	</el-submenu>
	              		 	</template>
				    	</el-submenu>
	              </template>
	              
	              <!-- <el-menu-item index="1" >NFC标签</el-menu-item> 
	              <el-menu-item index="2" >仓库管理</el-menu-item> 
	              <el-menu-item index="3" >航标管理</el-menu-item> 
	              <el-menu-item index="7" >器材管理</el-menu-item> 
	              <el-menu-item index="4" >地图展示</el-menu-item>
	              <el-menu-item index="5" >统计分析</el-menu-item>
	              <el-submenu index="6">
				    <template slot="title">系统管理</template>
				    <el-submenu index="61">
				      <template slot="title">数据字典</template>
				      <el-menu-item index="611">字典分类</el-menu-item>
				      <el-menu-item index="612">字典配置</el-menu-item>
				    </el-submenu>
				    <el-menu-item index="62">系统日志</el-menu-item>
				    <el-menu-item index="63">应用注册</el-menu-item>
				    <el-submenu index="64">
				      <template slot="title">用户管理</template>
				      <el-menu-item index="641">用户组</el-menu-item>
				      <el-menu-item index="642">用户</el-menu-item>
				    </el-submenu>
				  </el-submenu> -->
				  
	            </el-menu>
	          </el-col>
	          <el-col :span="3" class="userinfo">
					<el-dropdown>
						<span class="el-dropdown-link userinfo-inner">
						{{sysUserName}}<i class="el-icon-arrow-down el-icon--right"></i>
						</span>
						<el-dropdown-menu slot="dropdown">
							<el-dropdown-item @click.native="handlepwdChange"><i class="fa fa-key fa-fw"></i>&nbsp;修改密码</el-dropdown-item>
							<el-dropdown-item @click.native="logout"><i class="fa fa-power-off fa-fw"></i>&nbsp;退出</el-dropdown-item>
						</el-dropdown-menu>
					</el-dropdown>
	          </el-col>
	        </el-col>
	      </el-row>
	    </el-header>
	    <el-main class="main">
	      <iframe class="content-iframe" src="" width="100%" height="100%"></iframe>
	    </el-main>

		<!--Change Password-->
		<el-dialog title="密码修改" :visible.sync="pwdFormVisible" :close-on-click-modal="false">
			<el-form :model="pwdForm"  :label-position="'top'" :rules="pwdFormRules" ref="pwdForm">
				<el-form-item label="旧密码" prop="oldPwd">
					<el-input type="text" v-model="pwdForm.oldPwd"></el-input>
				</el-form-item>
				<el-form-item label="新密码" prop="newPwd">
					<el-input type="text" v-model="pwdForm.newPwd"></el-input>
				</el-form-item>
				<el-form-item label="确认新密码" prop="newPwd2">
					<el-input type="text" v-model="pwdForm.newPwd2"></el-input>
				</el-form-item>
			</el-form>
			<div slot="footer" class="dialog-footer">
				<el-button @click="pwdChangeClose">取消</el-button>
				<el-button type="primary" @click="pwdChange" :loading="pwdLoading">提交</el-button>
			</div>
		</el-dialog>
  	</el-container>
  	
  </div>
</body>
  <script src="js/jquery-3.4.1.js" type="text/javascript"></script>
  <script src="js/vue-2.6.10/vue.js" type="text/javascript"></script>
  <script src="js/element-2.4.11/index.js" type="text/javascript"></script>
  <script type="text/javascript" src="js/global.js"></script>
  <script type="text/javascript" src="js/index.js"></script>
</html>